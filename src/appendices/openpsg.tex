\chapter{Panoptic Scene Graph}
In questa sezione dell'appendice verranno riportate tutte le informazioni che non sono state inserite nel capitolo \ref{chap:grafo_di_scena}.\\

\section{Classi oggetto e predicati}

\subsection{Predicati}\label{appendix:psgtr-predicates}
\begin{center}
  \begin{supertabular}{|l|l|l|l|}
    \hline
    over & in front of & beside & on \\
    in & attached to & hanging from & on back of \\
    falling off & going down & painted on & walking on \\
    running on & crossing & standing on & lying on \\
    sitting on & flying over & jumping over & jumping from \\
    wearing & holding & carrying & looking at \\
    guiding & kissing & eating & drinking \\
    feeding & biting & catching & picking \\
    playing with & chasing & climbing & cleaning \\
    playing & touching & pushing & pulling \\
    opening & cooking & talking to & throwing \\
    slicing & driving & riding & parked on \\
    driving on & about to hit & kicking & swinging \\
    entering & exiting & enclosing & leaning on \\
    \hline
  \end{supertabular}
\end{center}

\subsection{Classi oggetto}\label{appendix:psgtr-classes}
\twocolumn
\tablehead{%
  \hline
  \textbf{Classe} & \textbf{Tipologia} \\
  \hline}
\tabletail{%
  \hline}
\small
\begin{supertabular}{|l|l|}
  person                & \tiny{LIVING\_ENTITY}     \\
  bicycle               & \tiny{UNPICKLE\_OBJECT  } \\
  car                   & \tiny{PLACEABLE\_ASSET  } \\
  motorcycle            & \tiny{UNPICKLE\_OBJECT  } \\
  airplane              & \tiny{UNPLACEABLE\_ASSET} \\
  bus                   & \tiny{UNPLACEABLE\_ASSET} \\
  train                 & \tiny{UNPICKLE\_OBJECT  } \\
  truck                 & \tiny{UNPICKLE\_OBJECT  } \\
  boat                  & \tiny{UNPICKLE\_OBJECT  } \\
  traffic light         & \tiny{UNPICKLE\_OBJECT  } \\
  fire hydrant          & \tiny{UNPICKLE\_OBJECT  } \\
  stop sign             & \tiny{PICKLE\_OBJECT    } \\
  parking meter         & \tiny{PLACEABLE\_ASSET  } \\
  bench                 & \tiny{PLACEABLE\_ASSET  } \\
  bird                  & \tiny{LIVING\_ENTITY    } \\
  cat                   & \tiny{LIVING\_ENTITY    } \\
  dog                   & \tiny{LIVING\_ENTITY    } \\
  horse                 & \tiny{LIVING\_ENTITY    } \\
  sheep                 & \tiny{LIVING\_ENTITY    } \\
  cow                   & \tiny{LIVING\_ENTITY    } \\
  elephant              & \tiny{LIVING\_ENTITY    } \\
  bear                  & \tiny{LIVING\_ENTITY    } \\
  zebra                 & \tiny{LIVING\_ENTITY    } \\
  giraffe               & \tiny{LIVING\_ENTITY    } \\
  backpack              & \tiny{PICKLE\_OBJECT    } \\
  umbrella              & \tiny{PICKLE\_OBJECT    } \\
  handbag               & \tiny{PICKLE\_OBJECT    } \\
  tie                   & \tiny{PICKLE\_OBJECT    } \\
  suitcase              & \tiny{PICKLE\_OBJECT    } \\
  frisbee               & \tiny{PICKLE\_OBJECT    } \\
  skis                  & \tiny{PICKLE\_OBJECT    } \\
  snowboard             & \tiny{PICKLE\_OBJECT    } \\
  sports ball           & \tiny{PICKLE\_OBJECT    } \\
  kite                  & \tiny{PICKLE\_OBJECT    } \\
  baseball bat          & \tiny{PICKLE\_OBJECT    } \\
  baseball glove        & \tiny{PICKLE\_OBJECT    } \\
  skateboard            & \tiny{PICKLE\_OBJECT    } \\
  surfboard             & \tiny{PICKLE\_OBJECT    } \\
  tennis racket         & \tiny{PICKLE\_OBJECT    } \\
  bottle                & \tiny{PICKLE\_OBJECT    } \\
  wine glass            & \tiny{PICKLE\_OBJECT    } \\
  cup                   & \tiny{PICKLE\_OBJECT    } \\
  fork                  & \tiny{PICKLE\_OBJECT    } \\
  knife                 & \tiny{PICKLE\_OBJECT    } \\
  spoon                 & \tiny{PICKLE\_OBJECT    } \\
  bowl                  & \tiny{PICKLE\_OBJECT    } \\
  banana                & \tiny{PICKLE\_OBJECT    } \\
  apple                 & \tiny{PICKLE\_OBJECT    } \\
  sandwich              & \tiny{PICKLE\_OBJECT    } \\
  orange                & \tiny{PICKLE\_OBJECT    } \\
  broccoli              & \tiny{PICKLE\_OBJECT    } \\
  carrot                & \tiny{PICKLE\_OBJECT    } \\
  hot dog               & \tiny{PICKLE\_OBJECT    } \\
  pizza                 & \tiny{PICKLE\_OBJECT    } \\
  donut                 & \tiny{PICKLE\_OBJECT    } \\
  cake                  & \tiny{PICKLE\_OBJECT    } \\
  chair                 & \tiny{PLACEABLE\_ASSET  } \\
  couch                 & \tiny{PLACEABLE\_ASSET  } \\
  potted plant          & \tiny{PICKLE\_OBJECT    } \\
  bed                   & \tiny{PLACEABLE\_ASSET  } \\
  dining table          & \tiny{PLACEABLE\_ASSET  } \\
  toilet                & \tiny{UNPLACEABLE\_ASSET} \\
  tv                    & \tiny{UNPLACEABLE\_ASSET} \\
  laptop                & \tiny{PICKLE\_OBJECT    } \\
  mouse                 & \tiny{PICKLE\_OBJECT    } \\
  remote                & \tiny{PICKLE\_OBJECT    } \\
  keyboard              & \tiny{PICKLE\_OBJECT    } \\
  cell phone            & \tiny{PICKLE\_OBJECT    } \\
  microwave             & \tiny{PLACEABLE\_ASSET  } \\
  oven                  & \tiny{UNPLACEABLE\_ASSET} \\
  toaster               & \tiny{PICKLE\_OBJECT    } \\
  sink                  & \tiny{PICKLE\_OBJECT    } \\
  refrigerator          & \tiny{PLACEABLE\_ASSET  } \\
  book                  & \tiny{PICKLE\_OBJECT    } \\
  clock                 & \tiny{PICKLE\_OBJECT    } \\
  vase                  & \tiny{PICKLE\_OBJECT    } \\
  scissors              & \tiny{PICKLE\_OBJECT    } \\
  teddy bear            & \tiny{PICKLE\_OBJECT    } \\
  hair drier            & \tiny{PICKLE\_OBJECT    } \\
  toothbrush            & \tiny{PICKLE\_OBJECT    } \\
  banner                & \tiny{PICKLE\_OBJECT    } \\
  blanket               & \tiny{PICKLE\_OBJECT    } \\
  bridge                & \tiny{UNPLACEABLE\_ASSET} \\
  cardboard             & \tiny{PICKLE\_OBJECT    } \\
  counter               & \tiny{PICKLE\_OBJECT    } \\
  curtain               & \tiny{PICKLE\_OBJECT    } \\
  door-stuff            & \tiny{PICKLE\_OBJECT    } \\
  floor-wood            & \tiny{PLACEABLE\_ASSET  } \\
  flower                & \tiny{PICKLE\_OBJECT    } \\
  fruit                 & \tiny{PICKLE\_OBJECT    } \\
  gravel                & \tiny{UNPICKLE\_OBJECT  } \\
  house                 & \tiny{UNPLACEABLE\_ASSET} \\
  light                 & \tiny{UNPLACEABLE\_ASSET} \\
  mirror-stuff          & \tiny{UNPLACEABLE\_ASSET} \\
  net                   & \tiny{PICKLE\_OBJECT    } \\
  pillow                & \tiny{PICKLE\_OBJECT    } \\
  platform              & \tiny{PLACEABLE\_ASSET  } \\
  playingfield          & \tiny{PLACEABLE\_ASSET  } \\
  railroad              & \tiny{UNPLACEABLE\_ASSET} \\
  river                 & \tiny{UNPLACEABLE\_ASSET} \\
  road                  & \tiny{UNPLACEABLE\_ASSET} \\
  roof                  & \tiny{PLACEABLE\_ASSET  } \\
  sand                  & \tiny{UNPLACEABLE\_ASSET} \\
  sea                   & \tiny{PLACEABLE\_ASSET  } \\
  shelf                 & \tiny{PLACEABLE\_ASSET  } \\
  snow                  & \tiny{PLACEABLE\_ASSET  } \\
  stairs                & \tiny{UNPLACEABLE\_ASSET} \\
  tent                  & \tiny{PLACEABLE\_ASSET  } \\
  towel                 & \tiny{PICKLE\_OBJECT    } \\
  wall-brick            & \tiny{UNPLACEABLE\_ASSET} \\
  wall-stone            & \tiny{UNPLACEABLE\_ASSET} \\
  wall-tile             & \tiny{UNPLACEABLE\_ASSET} \\
  wall-wood             & \tiny{UNPLACEABLE\_ASSET} \\
  water-other           & \tiny{UNPICKLE\_OBJECT  } \\
  window-blind          & \tiny{UNPLACEABLE\_ASSET} \\
  window-other          & \tiny{UNPLACEABLE\_ASSET} \\
  tree-merged           & \tiny{UNPLACEABLE\_ASSET} \\
  fence-merged          & \tiny{UNPLACEABLE\_ASSET} \\
  ceiling-merged        & \tiny{UNPLACEABLE\_ASSET} \\
  sky-other-merged      & \tiny{UNPLACEABLE\_ASSET} \\
  cabinet-merged        & \tiny{PLACEABLE\_ASSET  } \\
  table-merged          & \tiny{PLACEABLE\_ASSET  } \\
  floor-other-merged    & \tiny{PLACEABLE\_ASSET  } \\
  pavement-merged       & \tiny{PLACEABLE\_ASSET  } \\
  mountain-merged       & \tiny{UNPLACEABLE\_ASSET} \\
  grass-merged          & \tiny{PLACEABLE\_ASSET  } \\
  dirt-merged           & \tiny{PICKLE\_OBJECT    } \\
  paper-merged          & \tiny{PICKLE\_OBJECT    } \\
  food-other-merged     & \tiny{PICKLE\_OBJECT    } \\
  building-other-merged & \tiny{UNPLACEABLE\_ASSET} \\
  rock-merged           & \tiny{UNPICKLE\_OBJECT  } \\
  wall-other-merged     & \tiny{UNPLACEABLE\_ASSET} \\
  rug-merged            & \tiny{UNPLACEABLE\_ASSET} \\
  background            & \tiny{UNPLACEABLE\_ASSET} \\
\end{supertabular}
\pagebreak
\onecolumn

\section{Configurazione di Scene Perception}
Ogni servizio ha una configurazione che permette di modificare i parametri utilizzati dal servizio stesso. Esistono vari livelli di configurazione: globali e specifici per robot. I secondi, se presenti, sovrascrivono i primi. Di seguito verranno elencati i parametri configurabili per il servizio di scene perception.\\
\vspace{1em}
\tablehead{%
  \hline
  \textbf{Parametro} & \textbf{Descrizione} & \textbf{Valore di Default} \\
  \hline}
\begin{supertabular}{|l|l|l|}
  device & \makecell[l]{Specifica il device torch da utilizzare} & \tiny{CPU} \\
  \hline
  camera to use & \makecell[l]{Specifica la camera da utilizzare per\\ la percezione della scena} & \tiny{HEAD} \\
  \hline
  position reference & \makecell[l]{Specifica il riferimento da utilizzare\\ per la posizione} & \tiny{MAP} \\
  \hline
  distance thresholds & \makecell[l]{Specifica le distanze massime e\\ minime per considerare un oggetto} & \begin{tabular}{l|l}
    max & 3.0 \\\hline min & 0.1 \\\hline frame max & 1.0
  \end{tabular} \\
  \hline
  \makecell[l]{relation inference\\ threshold} & \makecell[l]{Specifica la soglia per l'inferenza\\ delle relazioni} & 0.5 \\
  \hline
  banned labels & \makecell[l]{Specifica le classi oggetto da non\\ considerare} & \makecell[l]{ceiling-merged \\ floor-merged \\ floor-other-merged \\ sky-other-merged} \\
  \hline
\end{supertabular}

\section{Esempi}

\subsubsection{Esempio di Scene Graph con la bottiglia}
\begin{figure}[H]
  \centering
  \includegraphics[width=\textwidth]{scene_graph/scene_w_bottle.jpeg}
\end{figure}
\begin{lstlisting}[language=json]
  
  {
    "nodes": [
      {
        "id": "42cfc1c2-1af9-4792-9684-d87a6b5b7788",
        "label": "sports ball",
        "position": [571.0, 847.0]
      },
      {
        "id": "234dcfd5-a1a3-48e4-b4d3-4b24657cfdcd",
        "label": "wall-tile",
        "position": [517.0, 658.0]
      },
      {
        "id": "3cb092ea-e56a-4278-ba5d-6522d8b6b92d",
        "label": "bottle",
        "position": [429.0, 385.0]
      },
      {
        "id": "91eaceab-981a-4447-a6a5-ec8b1d35ea94",
        "label": "floor-other-merged",
        "position": [402.0, 707.0]
      },
      {
        "id": "6250ce0a-c332-41bb-a8d6-422ad4033a7e",
        "label": "book",
        "position": [729.0, 469.0]
      }
    ],
    "edges": [
      {
        "source": "3cb092ea-e56a-4278-ba5d-6522d8b6b92d",
        "target": "6250ce0a-c332-41bb-a8d6-422ad4033a7e",
        "label": "on"
      },
      {
        "source": "6250ce0a-c332-41bb-a8d6-422ad4033a7e",
        "target": "3cb092ea-e56a-4278-ba5d-6522d8b6b92d",
        "label": "under"
      },
      {
        "source": "91eaceab-981a-4447-a6a5-ec8b1d35ea94",
        "target": "6250ce0a-c332-41bb-a8d6-422ad4033a7e",
        "label": "under"
      },
      {
        "source": "6250ce0a-c332-41bb-a8d6-422ad4033a7e",
        "target": "91eaceab-981a-4447-a6a5-ec8b1d35ea94",
        "label": "on"
      },
      {
        "source": "91eaceab-981a-4447-a6a5-ec8b1d35ea94",
        "target": "42cfc1c2-1af9-4792-9684-d87a6b5b7788",
        "label": "under"
      },
      {
        "source": "42cfc1c2-1af9-4792-9684-d87a6b5b7788",
        "target": "91eaceab-981a-4447-a6a5-ec8b1d35ea94",
        "label": "on"
      },
      {
        "source": "91eaceab-981a-4447-a6a5-ec8b1d35ea94",
        "target": "234dcfd5-a1a3-48e4-b4d3-4b24657cfdcd",
        "label": "attached to"
      },
      {
        "source": "234dcfd5-a1a3-48e4-b4d3-4b24657cfdcd",
        "target": "91eaceab-981a-4447-a6a5-ec8b1d35ea94",
        "label": "attached to"
      },
      {
        "source": "3cb092ea-e56a-4278-ba5d-6522d8b6b92d",
        "target": "42cfc1c2-1af9-4792-9684-d87a6b5b7788",
        "label": "beside"
      },
      {
        "source": "42cfc1c2-1af9-4792-9684-d87a6b5b7788",
        "target": "3cb092ea-e56a-4278-ba5d-6522d8b6b92d",
        "label": "beside"
      }
    ]
  }
\end{lstlisting}

\subsubsection{Esempio di Scene Graph senza la bottiglia}
\begin{figure}[H]
  \centering
  \includegraphics[width=\textwidth]{scene_graph/scene_wo_bottle.jpeg}
\end{figure}
\begin{lstlisting}[language=json]
  
  {
    "nodes": [
      {
        "id": "d070cec3-b540-4523-92b2-dccd13c76d0a",
        "label": "book",
        "position": [682.0, 489.0]
      },
      {
        "id": "da16647a-f0b2-49b1-bbcd-308974136112",
        "label": "sports ball",
        "position": [555.0, 875.0]
      },
      {
        "id": "ace5c7a0-049e-46d6-92ed-26f8d900f551",
        "label": "wall-tile",
        "position": [473.0, 592.0]
      },
      {
        "id": "717fa745-ed21-4153-9c35-f0cb5f277deb",
        "label": "floor-other-merged",
        "position": [425.0, 678.0]
      }
    ],
    "edges": [
      {
        "source": "717fa745-ed21-4153-9c35-f0cb5f277deb",
        "target": "d070cec3-b540-4523-92b2-dccd13c76d0a",
        "label": "under"
      },
      {
        "source": "d070cec3-b540-4523-92b2-dccd13c76d0a",
        "target": "717fa745-ed21-4153-9c35-f0cb5f277deb",
        "label": "on"
      },
      {
        "source": "717fa745-ed21-4153-9c35-f0cb5f277deb",
        "target": "da16647a-f0b2-49b1-bbcd-308974136112",
        "label": "under"
      },
      {
        "source": "da16647a-f0b2-49b1-bbcd-308974136112",
        "target": "717fa745-ed21-4153-9c35-f0cb5f277deb",
        "label": "on"
      },
      {
        "source": "da16647a-f0b2-49b1-bbcd-308974136112",
        "target": "d070cec3-b540-4523-92b2-dccd13c76d0a",
        "label": "beside"
      },
      {
        "source": "d070cec3-b540-4523-92b2-dccd13c76d0a",
        "target": "da16647a-f0b2-49b1-bbcd-308974136112",
        "label": "beside"
      },
      {
        "source": "ace5c7a0-049e-46d6-92ed-26f8d900f551",
        "target": "717fa745-ed21-4153-9c35-f0cb5f277deb",
        "label": "attached to"
      },
      {
        "source": "717fa745-ed21-4153-9c35-f0cb5f277deb",
        "target": "ace5c7a0-049e-46d6-92ed-26f8d900f551",
        "label": "attached to"
      }
    ]
  }
\end{lstlisting}